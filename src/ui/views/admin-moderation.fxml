<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="ui.controllers.AdminModerationController"
      spacing="20"
      styleClass="root"
      stylesheets="@../../resources/css/style.css"
      style="-fx-padding: 30;">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="20">
        <VBox spacing="5" HBox.hgrow="ALWAYS">
            <Label text="Report Moderation" styleClass="page-title">
                <font>
                    <Font name="Poppins" size="28.0"/>
                </font>
            </Label>
            <Label text="Review and manage user-submitted reports"
                   styleClass="subtitle"/>
        </VBox>

        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="Refresh" onAction="#handleRefresh"
                    styleClass="button-secondary"/>
            <Button text="Back to Dashboard" onAction="#handleBackToDashboard"
                    styleClass="button-neutral"/>
        </HBox>
    </HBox>

    <!-- Statistics Cards -->
    <HBox spacing="15" alignment="CENTER">
        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #FFF9E6; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #FFD93D; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="pendingCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #F4C542;">
                <font>
                    <Font name="Poppins" size="32.0"/>
                </font>
            </Label>
            <Label text="Pending Reports" styleClass="subtitle"/>
        </VBox>

        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #E8F8EB; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #6BCF7F; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="resolvedCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #6BCF7F;">
                <font>
                    <Font name="Poppins" size="32.0"/>
                </font>
            </Label>
            <Label text="Resolved Today" styleClass="subtitle"/>
        </VBox>

        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #FFE9E9; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #FF6B6B; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="totalCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #FF6B6B;">
                <font>
                    <Font name="Poppins" size="32.0"/>
                </font>
            </Label>
            <Label text="Total Reports" styleClass="subtitle"/>
        </VBox>
    </HBox>

    <!-- Reports Table -->
    <VBox spacing="10" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
        <Label text="Pending Reports" style="-fx-font-size: 18px; -fx-font-weight: bold;">
            <font>
                <Font name="System Bold" size="18.0"/>
            </font>
        </Label>

        <TableView fx:id="reportsTable" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="reportIDColumn" text="Report ID" prefWidth="120">
                    <cellValueFactory>
                        <PropertyValueFactory property="reportID"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn fx:id="propertyIdColumn" text="Property ID" prefWidth="100">
                    <cellValueFactory>
                        <PropertyValueFactory property="propertyId"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn fx:id="reporterIdColumn" text="Reporter ID" prefWidth="100">
                    <cellValueFactory>
                        <PropertyValueFactory property="reporterId"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn fx:id="descriptionColumn" text="Description" prefWidth="350">
                    <cellValueFactory>
                        <PropertyValueFactory property="description"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn fx:id="statusColumn" text="Status" prefWidth="80">
                    <cellValueFactory>
                        <PropertyValueFactory property="status"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Actions" prefWidth="200" fx:id="actionColumn"/>
            </columns>
            <placeholder>
                <Label text="No pending reports" style="-fx-font-size: 16px; -fx-text-fill: #999;"/>
            </placeholder>
        </TableView>
    </VBox>

    <!-- Footer Info -->
    <HBox alignment="CENTER" spacing="10" style="-fx-padding: 10;">
        <Label text="ðŸ’¡ Tip: Click 'View Details' to see the full report and property information"
               style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-font-style: italic;"/>
    </HBox>

</VBox>
