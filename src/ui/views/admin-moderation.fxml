<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="ui.controllers.AdminModerationController"
      spacing="20"
      style="-fx-padding: 30; -fx-background-color: #f5f5f5;">

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="20">
        <VBox spacing="5" HBox.hgrow="ALWAYS">
            <Label text="Report Moderation" style="-fx-font-size: 28px; -fx-font-weight: bold;">
                <font>
                    <Font name="System Bold" size="28.0"/>
                </font>
            </Label>
            <Label text="Review and manage user-submitted reports"
                   style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
        </VBox>

        <HBox spacing="10" alignment="CENTER_RIGHT">
            <Button text="Refresh" onAction="#handleRefresh"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
            <Button text="Back to Dashboard" onAction="#handleBackToDashboard"
                    style="-fx-background-color: #757575; -fx-text-fill: white; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
        </HBox>
    </HBox>

    <!-- Statistics Cards -->
    <HBox spacing="15" alignment="CENTER">
        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #fff3cd; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #ffc107; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="pendingCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #ff9800;">
                <font>
                    <Font name="System Bold" size="32.0"/>
                </font>
            </Label>
            <Label text="Pending Reports" style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
        </VBox>

        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #d4edda; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #28a745; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="resolvedCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #28a745;">
                <font>
                    <Font name="System Bold" size="32.0"/>
                </font>
            </Label>
            <Label text="Resolved Today" style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
        </VBox>

        <VBox alignment="CENTER" spacing="5" style="-fx-background-color: #f8d7da; -fx-padding: 20; -fx-background-radius: 10; -fx-border-color: #dc3545; -fx-border-width: 2; -fx-border-radius: 10;" HBox.hgrow="ALWAYS">
            <Label fx:id="totalCountLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #dc3545;">
                <font>
                    <Font name="System Bold" size="32.0"/>
                </font>
            </Label>
            <Label text="Total Reports" style="-fx-font-size: 14px; -fx-text-fill: #666;"/>
        </VBox>
    </HBox>

    <!-- Reports Table -->
    <VBox spacing="10" VBox.vgrow="ALWAYS" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
        <Label text="Pending Reports" style="-fx-font-size: 18px; -fx-font-weight: bold;">
            <font>
                <Font name="System Bold" size="18.0"/>
            </font>
        </Label>

        <TableView fx:id="reportsTable" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn text="Report ID" prefWidth="120">
                    <cellValueFactory>
                        <PropertyValueFactory property="reportID"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Property ID" prefWidth="100">
                    <cellValueFactory>
                        <PropertyValueFactory property="propertyId"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Reporter ID" prefWidth="100">
                    <cellValueFactory>
                        <PropertyValueFactory property="reporterId"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Description" prefWidth="350">
                    <cellValueFactory>
                        <PropertyValueFactory property="description"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Status" prefWidth="80">
                    <cellValueFactory>
                        <PropertyValueFactory property="status"/>
                    </cellValueFactory>
                </TableColumn>
                <TableColumn text="Actions" prefWidth="200" fx:id="actionColumn"/>
            </columns>
            <placeholder>
                <Label text="No pending reports" style="-fx-font-size: 16px; -fx-text-fill: #999;"/>
            </placeholder>
        </TableView>
    </VBox>

    <!-- Footer Info -->
    <HBox alignment="CENTER" spacing="10" style="-fx-padding: 10;">
        <Label text="ðŸ’¡ Tip: Click 'View Details' to see the full report and property information"
               style="-fx-font-size: 12px; -fx-text-fill: #666; -fx-font-style: italic;"/>
    </HBox>

</VBox>
